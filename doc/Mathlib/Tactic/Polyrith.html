<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="stylesheet" href="../.././src/pygments.css"></link><link rel="shortcut icon" href="../.././favicon.ico"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Tactic.Polyrith</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Mathlib.Tactic.Polyrith";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span></h2><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;
            <button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Mathlib/Tactic/LinearCombination.html">Mathlib.Tactic.LinearCombination</a></li><li><a href="../.././Mathlib/Data/Rat/Basic.html">Mathlib.Data.Rat.Basic</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Tactic.Polyrith" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instBEqPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instBEqPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instReprPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.format"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instToFormatPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instToFormatPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instToStringPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instToStringPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instReprPoly_1"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprPoly_1</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instInhabitedPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instInhabitedPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instQuoteIntMkStr1"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instQuoteIntMkStr1</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instQuoteRatMkStr1"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instQuoteRatMkStr1</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.toSyntax"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">toSyntax</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.parse"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parse</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Source"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Source</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.parseContext"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parseContext</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.parseContext.processHyp"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parseContext</span>.<span class="name">processHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.createSageArgs"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">createSageArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonRat"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonRat</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.unNeg?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">unNeg?</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.add'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">add'</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.mul'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">mul'</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.unDiv?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">unDiv?</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.pow'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">pow'</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.sumM"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">sumM</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.SageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageCoeffAndPower</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonSageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageCoeffAndPower</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instReprSageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprSageCoeffAndPower</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.SageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageSuccess</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonSageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageSuccess</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instReprSageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprSageSuccess</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.SageError"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageError</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonSageError"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageError</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.SageResult"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageResult</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonSageResult"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageResult</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.sageOutput"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">sageOutput</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.polyrith"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">polyrith</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.polyrith.byRing"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">polyrith</span>.<span class="name">byRing</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.«tacticPolyrithOnly[_]»"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">«tacticPolyrithOnly[_]»</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="polyrith-Tactic">polyrith Tactic <a class="hover-link" href="#polyrith-Tactic">#</a></h1><p>In this file, the <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> tactic is created.  This tactic, which
works over <code><a href="../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a></code>s, attempts to prove a multivariate polynomial target over said
field by using multivariable polynomial hypotheses/proof terms over the same field.
Used as is, the tactic makes use of those hypotheses in the local context that are
over the same field as the target. However, the user can also specify which hypotheses
from the local context to use, along with proof terms that might not already be in the
local context. Note: since this tactic uses SageMath via an API call done in Python,
it can only be used with a working internet connection, and with a local installation of Python.</p><h2 class="markdown-heading" id="Implementation-Notes">Implementation Notes <a class="hover-link" href="#Implementation-Notes">#</a></h2><p>The tactic <code>linear_combination</code> is often used to prove such goals by allowing the user to
specify a coefficient for each hypothesis. If the target polynomial can be written as a
linear combination of the hypotheses with the chosen coefficients, then the <code>linear_combination</code>
tactic succeeds. In other words, <code>linear_combination</code> is a certificate checker, and it is left
to the user to find a collection of good coefficients. The <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> tactic automates this
process using the theory of Groebner bases.</p><p>Polyrith does this by first parsing the relevant hypotheses into a form that Python can understand.
It then calls a Python file that uses the SageMath API to compute the coefficients. These
coefficients are then sent back to Lean, which parses them into pexprs. The information is then
given to the <code>linear_combination</code> tactic, which completes the process by checking the certificate.</p><p>In fact, <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> uses Sage to test for membership in the <em>radical</em> of the ideal.
This means it searches for a linear combination of hypotheses that add up to a <em>power</em> of the goal.
When this power is not 1, it uses the <code>(exp := n)</code> feature of <code>linear_combination</code> to report the
certificate.</p><p><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> calls an external python script <code>scripts/polyrith_sage.py</code>. Because this is not a Lean
file, changes to this script may not be noticed during Lean compilation if you have already
generated olean files. If you are modifying this python script, you likely know what you're doing;
remember to force recompilation of any files that call <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code>.</p><h2 class="markdown-heading" id="TODO">TODO <a class="hover-link" href="#TODO">#</a></h2><ul>
<li>Give Sage more information about the specific ring being used for the coefficients. For now,
we always use ℚ (or <code>QQ</code> in Sage).</li>
<li>Handle <code>•</code> terms.</li>
<li>Support local Sage installations.</li>
</ul><h2 class="markdown-heading" id="References">References <a class="hover-link" href="#References">#</a></h2><ul>
<li>See the book [<em>Ideals, Varieties, and Algorithms</em>][coxlittleOshea1997] by David Cox, John Little,
and Donal O'Shea for the background theory on Groebner bases</li>
<li>This code was heavily inspired by the code for the tactic <code>linarith</code>, which was written by
Robert Lewis, who advised me on this project as part of a Computer Science independent study
at Brown University.</li>
</ul></div><div class="mod_doc"><h1 class="markdown-heading" id="Poly-Datatype">Poly Datatype <a class="hover-link" href="#Poly-Datatype">#</a></h1></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L76-L86">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A datatype representing the semantics of multivariable polynomials.
Each <code>poly</code> can be converted into a string.</p><ul class="constructors"><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.const">const: <span class="fn"><a href="../.././Std/Data/Rat/Basic.html#Rat">ℚ</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.var">var: <span class="fn"><a href="../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.hyp">hyp: <span class="fn"><a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.add">add: <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.sub">sub: <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.mul">mul: <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.div">div: <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.pow">pow: <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.neg">neg: <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></li></ul><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instBEqPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L86-L86">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instBEqPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instBEqPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instBEqPoly">Mathlib.Tactic.Polyrith.instBEqPoly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#_private.Mathlib.Tactic.Polyrith.0.Mathlib.Tactic.Polyrith.beqPoly._@.Mathlib.Tactic.Polyrith._hyg.197">Mathlib.Tactic.Polyrith.beqPoly✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instReprPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L86-L86">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprPoly">Mathlib.Tactic.Polyrith.instReprPoly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">reprPrec</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#_private.Mathlib.Tactic.Polyrith.0.Mathlib.Tactic.Polyrith.reprPoly._@.Mathlib.Tactic.Polyrith._hyg.625">Mathlib.Tactic.Polyrith.reprPoly✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L95-L104">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">format</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><p>This converts a poly object into a string representing it. The string
maintains the semantic structure of the poly object.</p><p>The output of this function must be valid Python syntax, and it assumes the variables <code>varN</code> from
<code>scripts/polyrith.py.</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">Mathlib.Tactic.Polyrith.Poly.format</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">a</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">(<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">a</span></span>)</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">Mathlib.Tactic.Polyrith.Poly.format</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.var">Mathlib.Tactic.Polyrith.Poly.var</a> <span class="fn">a</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">(<span class="fn"><span class="fn"><span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;var&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">a</span></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;&quot;</span></span></span>)</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">Mathlib.Tactic.Polyrith.Poly.format</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.hyp">Mathlib.Tactic.Polyrith.Poly.hyp</a> <span class="fn">a</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">(<span class="fn"><span class="fn"><span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;hyp&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">a</span></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;&quot;</span></span></span>)</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">Mathlib.Tactic.Polyrith.Poly.format</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.neg">Mathlib.Tactic.Polyrith.Poly.neg</a> <span class="fn">a</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">(<span class="fn"><span class="fn"><span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;-&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">Mathlib.Tactic.Polyrith.Poly.format</a> <span class="fn">a</span></span>)</span></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;&quot;</span></span></span>)</span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instToFormatPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L106-L106">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instToFormatPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instToFormatPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.ToFormat">Lean.ToFormat</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instToFormatPoly">Mathlib.Tactic.Polyrith.instToFormatPoly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">format</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">Mathlib.Tactic.Polyrith.Poly.format</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instToStringPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L107-L107">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instToStringPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instToStringPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instToStringPoly">Mathlib.Tactic.Polyrith.instToStringPoly</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">toString</span> := <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a>) =&gt; <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">Mathlib.Tactic.Polyrith.Poly.format</a> <span class="fn">x</span></span>)</span></span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instReprPoly_1"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L108-L108">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprPoly_1"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprPoly_1</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprPoly_1">Mathlib.Tactic.Polyrith.instReprPoly_1</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">reprPrec</span> := <span class="fn">fun (<span class="fn">p</span> : <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a>) (<span class="fn">x</span> : <a href="../.././Init/Prelude.html#Nat">ℕ</a>) =&gt; <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">Mathlib.Tactic.Polyrith.Poly.format</a> <span class="fn">p</span></span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instInhabitedPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L109-L109">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instInhabitedPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instInhabitedPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instInhabitedPoly">Mathlib.Tactic.Polyrith.instInhabitedPoly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">0</span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instQuoteIntMkStr1"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L111-L113">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instQuoteIntMkStr1"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instQuoteIntMkStr1</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Meta.html#Lean.Quote">Lean.Quote</a> <a href="../.././Init/Data/Int/Basic.html#Int">ℤ</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instQuoteRatMkStr1"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L115-L118">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instQuoteRatMkStr1"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instQuoteRatMkStr1</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Meta.html#Lean.Quote">Lean.Quote</a> <a href="../.././Std/Data/Rat/Basic.html#Rat">ℚ</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.toSyntax"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L122-L131">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.toSyntax"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">toSyntax</span></a></span><span class="decl_args">
<span class="fn">(vars : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <span class="fn"><a href="../.././Lean/Hygiene.html#Lean.Unhygienic">Lean.Unhygienic</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span></span></div></div><p>Converts a <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></code> expression into a <code>Syntax</code> suitable as an input to <code>linear_combination</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.toSyntax">Mathlib.Tactic.Polyrith.Poly.toSyntax</a> <span class="fn">vars</span> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">a</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn"><a href="../.././Init/Meta.html#Lean.Quote.quote">Lean.quote</a> <span class="fn">`term</span> <span class="fn">a</span></span>)</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.toSyntax">Mathlib.Tactic.Polyrith.Poly.toSyntax</a> <span class="fn">vars</span> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.var">Mathlib.Tactic.Polyrith.Poly.var</a> <span class="fn">a</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">vars</span>[<span class="fn">a</span>]!</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.toSyntax">Mathlib.Tactic.Polyrith.Poly.toSyntax</a> <span class="fn">vars</span> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.hyp">Mathlib.Tactic.Polyrith.Poly.hyp</a> <span class="fn">a</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">a</span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.toSyntax" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.parse"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L134-L160">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.parse"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parse</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{u : <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Q(<a href="../.././foundational_types.html">Type</a> u)</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(sα : <span class="fn">Q(<span class="fn"><a href="../.././Mathlib/Algebra/Ring/Defs.html#CommSemiring">CommSemiring</a> <span class="fn">«$α»</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(c : <span class="fn"><a href="../.././Mathlib/Tactic/Ring/Basic.html#Mathlib.Tactic.Ring.Cache">Mathlib.Tactic.Ring.Cache</a> <span class="fn">sα</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(e : <span class="fn">Q(<span class="fn">«$α»</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Util/AtomM.html#Mathlib.Tactic.AtomM">Mathlib.Tactic.AtomM</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><p>Reifies a ring expression of type <code>α</code> as a <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></code>.</p></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Source"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L163-L167">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Source</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The possible hypothesis sources for a polyrith proof.</p><ul class="constructors"><li class="constructor" id="Mathlib.Tactic.Polyrith.Source.input">input: <span class="fn"><a href="../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Mathlib.Tactic.Polyrith.Source</a></span><div class="inductive_ctor_doc"><p><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source.input">input</a> n</code> refers to the <code>n</code>'th input <code>ai</code> in <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a> [a1, ..., an]</code>.</p></div></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Source.fvar">fvar: <span class="fn"><a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Mathlib.Tactic.Polyrith.Source</a></span><div class="inductive_ctor_doc"><p><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source.fvar">fvar</a> h</code> refers to hypothesis <code>h</code> from the local context.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Polyrith.Source" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.parseContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L170-L194">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.parseContext"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parseContext</span></a></span><span class="decl_args">
<span class="fn">(only : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(hyps : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(tgt : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Util/AtomM.html#Mathlib.Tactic.AtomM">Mathlib.Tactic.AtomM</a>
  <span class="fn">(<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Mathlib.Tactic.Polyrith.Source</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span>)</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></span>)</span></span></div></div><p>The first half of <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> produces a list of arguments to be sent to Sage.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.parseContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.parseContext.processHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L183-L187">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.parseContext.processHyp"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parseContext</span>.<span class="name">processHyp</span></a></span><span class="decl_args">
<span class="fn">(v : <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a>)</span></span>
<span class="decl_args">
<span class="fn">(α : <span class="fn">Q(<a href="../.././foundational_types.html">Type</a> v)</span>)</span></span>
<span class="decl_args">
<span class="fn">(sα : <span class="fn">Q(<span class="fn"><a href="../.././Mathlib/Algebra/Ring/Defs.html#CommSemiring">CommSemiring</a> <span class="fn">«$α»</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(c : <span class="fn"><a href="../.././Mathlib/Tactic/Ring/Basic.html#Mathlib.Tactic.Ring.Cache">Mathlib.Tactic.Ring.Cache</a> <span class="fn">sα</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(src : <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Mathlib.Tactic.Polyrith.Source</a>)</span></span>
<span class="decl_args">
<span class="fn">(ty : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(out : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Mathlib.Tactic.Polyrith.Source</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Util/AtomM.html#Mathlib.Tactic.AtomM">Mathlib.Tactic.AtomM</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Mathlib.Tactic.Polyrith.Source</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span>)</span></span>)</span></span></div></div><p>Parses a hypothesis and adds it to the <code>out</code> list.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.parseContext.processHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.createSageArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L197-L200">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.createSageArgs"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">createSageArgs</span></a></span><span class="decl_args">
<span class="fn">(trace : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(α : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(atoms : <a href="../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args">
<span class="fn">(hyps : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Mathlib.Tactic.Polyrith.Source</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(tgt : <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#String">String</a></span></div></div><p>Constructs the list of arguments to pass to the external sage script <code>polyrith_sage.py</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.createSageArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonRat"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L203-L205">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonRat"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonRat</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Std/Data/Rat/Basic.html#Rat">ℚ</a></span></div></div><p>A JSON parser for <code>ℚ</code> specific to the return value of <code>polyrith_sage.py</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.instFromJsonRat" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.unNeg?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L208-L212">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">unNeg?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></span></div></div><p>Removes an initial <code>-</code> sign from a polynomial with negative leading coefficient.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">Mathlib.Tactic.Polyrith.Poly.unNeg?</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul">Mathlib.Tactic.Polyrith.Poly.mul</a> <span class="fn">a</span> <span class="fn">b</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">Mathlib.Tactic.Polyrith.Poly.unNeg?</a> <span class="fn">a</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul">Mathlib.Tactic.Polyrith.Poly.mul</a> <span class="fn">__do_lift</span> <span class="fn">b</span></span>)</span></span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">Mathlib.Tactic.Polyrith.Poly.unNeg?</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">i</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">if <span class="fn"><span class="fn">i</span> <a href="../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span></span> then <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">i</span></span>)</span></span>)</span></span> else <span class="fn">none</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">Mathlib.Tactic.Polyrith.Poly.unNeg?</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.neg">Mathlib.Tactic.Polyrith.Poly.neg</a> <span class="fn">p</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">p</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">Mathlib.Tactic.Polyrith.Poly.unNeg?</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">none</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.unNeg?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.add'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L216-L223">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.add'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">add'</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><p>Adds two polynomials, performing some simple simplifications for presentation like
<code>a + -b = a - b</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.add'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.mul'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L227-L231">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">mul'</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><p>Multiplies two polynomials, performing some simple simplifications for presentation like
<code>1 * a = a</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.mul'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.unDiv?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L234-L238">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unDiv?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">unDiv?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> → <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#Nat">ℕ</a></span>)</span></span></span></div></div><p>Extracts the divisor <code>c : ℕ</code> from a polynomial of the form <code>1/c * b</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unDiv?">Mathlib.Tactic.Polyrith.Poly.unDiv?</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">i</span></span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">if <span class="fn"><span class="fn"><span class="fn"><span class="fn">i</span>.num</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></span> <a href="../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">i</span>.den</span> <a href="../.././Init/Core.html#Ne">≠</a> <span class="fn">1</span></span></span> then <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">(<span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">↑<span class="fn"><span class="fn">i</span>.num</span></span></span>, <span class="fn"><span class="fn">i</span>.den</span>)</span></span> else <span class="fn">none</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unDiv?">Mathlib.Tactic.Polyrith.Poly.unDiv?</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">none</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.unDiv?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.pow'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L241-L244">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.pow'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">pow'</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><p>Constructs a power expression <code>v_i ^ j</code>, performing some simplifications in trivial cases.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.pow'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.sumM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L247-L248">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.sumM"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">sumM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(a : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(f : <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">m</span> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><p>Constructs a sum from a monadic function supplying the monomials.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.sumM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L250-L256">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.SageCoeffAndPower"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L259-L266">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageCoeffAndPower</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A schema for the data reported by the Sage calculation</p><ul class="structure_fields" id="Mathlib.Tactic.Polyrith.SageCoeffAndPower.mk"><li id="Mathlib.Tactic.Polyrith.SageCoeffAndPower.coeffs" class="structure_field"><div class="structure_field_info">coeffs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a></span></div><div class="structure_field_doc"><p>The function call produces an array of polynomials
parallel to the input list of hypotheses.</p></div></li><li id="Mathlib.Tactic.Polyrith.SageCoeffAndPower.power" class="structure_field"><div class="structure_field_info">power : <a href="../.././Init/Prelude.html#Nat">ℕ</a></div><div class="structure_field_doc"><p>Sage produces an exponent (default 1) in the case where the hypothesess
sum to a power of the goal.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Polyrith.SageCoeffAndPower" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonSageCoeffAndPower"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L266-L266">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageCoeffAndPower</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageCoeffAndPower">Mathlib.Tactic.Polyrith.SageCoeffAndPower</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageCoeffAndPower">Mathlib.Tactic.Polyrith.instFromJsonSageCoeffAndPower</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">fromJson?</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#_private.Mathlib.Tactic.Polyrith.0.Mathlib.Tactic.Polyrith.fromJsonSageCoeffAndPower._@.Mathlib.Tactic.Polyrith._hyg.7023">Mathlib.Tactic.Polyrith.fromJsonSageCoeffAndPower✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instReprSageCoeffAndPower"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L266-L266">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprSageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprSageCoeffAndPower</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageCoeffAndPower">Mathlib.Tactic.Polyrith.SageCoeffAndPower</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprSageCoeffAndPower">Mathlib.Tactic.Polyrith.instReprSageCoeffAndPower</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">reprPrec</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#_private.Mathlib.Tactic.Polyrith.0.Mathlib.Tactic.Polyrith.reprSageCoeffAndPower._@.Mathlib.Tactic.Polyrith._hyg.7124">Mathlib.Tactic.Polyrith.reprSageCoeffAndPower✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.SageSuccess"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L269-L276">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageSuccess</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The result of a sage call in the success case.</p><ul class="structure_fields" id="Mathlib.Tactic.Polyrith.SageSuccess.mk"><li id="Mathlib.Tactic.Polyrith.SageSuccess.trace" class="structure_field"><div class="structure_field_info">trace : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#String">String</a></span></div><div class="structure_field_doc"><p>The script returns a string containing python script to be sent to the remote server,
when the tracing option is set.</p></div></li><li id="Mathlib.Tactic.Polyrith.SageSuccess.data" class="structure_field"><div class="structure_field_info">data : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageCoeffAndPower">Mathlib.Tactic.Polyrith.SageCoeffAndPower</a></span></div><div class="structure_field_doc"><p>The main result of the function call is an array of polynomials
parallel to the input list of hypotheses and an exponent for the goal.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Polyrith.SageSuccess" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonSageSuccess"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L276-L276">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageSuccess</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageSuccess">Mathlib.Tactic.Polyrith.SageSuccess</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageSuccess">Mathlib.Tactic.Polyrith.instFromJsonSageSuccess</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">fromJson?</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#_private.Mathlib.Tactic.Polyrith.0.Mathlib.Tactic.Polyrith.fromJsonSageSuccess._@.Mathlib.Tactic.Polyrith._hyg.7204">Mathlib.Tactic.Polyrith.fromJsonSageSuccess✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instReprSageSuccess"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L276-L276">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprSageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprSageSuccess</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageSuccess">Mathlib.Tactic.Polyrith.SageSuccess</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprSageSuccess">Mathlib.Tactic.Polyrith.instReprSageSuccess</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">reprPrec</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#_private.Mathlib.Tactic.Polyrith.0.Mathlib.Tactic.Polyrith.reprSageSuccess._@.Mathlib.Tactic.Polyrith._hyg.7305">Mathlib.Tactic.Polyrith.reprSageSuccess✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.SageError"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L279-L284">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageError"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageError</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The result of a sage call in the failure case.</p><ul class="structure_fields" id="Mathlib.Tactic.Polyrith.SageError.mk"><li id="Mathlib.Tactic.Polyrith.SageError.name" class="structure_field"><div class="structure_field_info">name : <a href="../.././Init/Prelude.html#String">String</a></div><div class="structure_field_doc"><p>The error kind</p></div></li><li id="Mathlib.Tactic.Polyrith.SageError.value" class="structure_field"><div class="structure_field_info">value : <a href="../.././Init/Prelude.html#String">String</a></div><div class="structure_field_doc"><p>The error message</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Polyrith.SageError" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonSageError"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L284-L284">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageError"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageError</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageError">Mathlib.Tactic.Polyrith.SageError</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageError">Mathlib.Tactic.Polyrith.instFromJsonSageError</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">fromJson?</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#_private.Mathlib.Tactic.Polyrith.0.Mathlib.Tactic.Polyrith.fromJsonSageError._@.Mathlib.Tactic.Polyrith._hyg.7381">Mathlib.Tactic.Polyrith.fromJsonSageError✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.SageResult"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L287-L287">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageResult"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageResult</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The result of a sage call.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageResult">Mathlib.Tactic.Polyrith.SageResult</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageError">Mathlib.Tactic.Polyrith.SageError</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageSuccess">Mathlib.Tactic.Polyrith.SageSuccess</a></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.SageResult" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonSageResult"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L289-L293">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageResult"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageResult</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageResult">Mathlib.Tactic.Polyrith.SageResult</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.sageOutput"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L300-L310">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.sageOutput"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">sageOutput</span></a></span><span class="decl_args">
<span class="fn">(args : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageResult">Mathlib.Tactic.Polyrith.SageResult</a></span></div></div><p>This tactic calls python from the command line with the args in <code>arg_list</code>.
The output printed to the console is parsed as a <code>Json</code>.
It assumes that <code>python3</code> is available on the path.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.sageOutput" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.polyrith"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L337-L377">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">polyrith</span></a></span><span class="decl_args">
<span class="fn">(g : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(only : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(hyps : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(traceOnly : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`tactic</span></span>)</span></span>)</span></span></div></div><p>This is the main body of the <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> tactic. It takes in the following inputs:</p><ul>
<li><code>only : <a href="../.././Init/Prelude.html#Bool">Bool</a></code> - This represents whether the user used the key word "only"</li>
<li><code>hyps : <a href="../.././Init/Prelude.html#Array">Array</a> Expr</code> - the hypotheses/proof terms selected by the user</li>
<li><code>traceOnly : <a href="../.././Init/Prelude.html#Bool">Bool</a></code> - If enabled, the returned syntax will be <code>.missing</code></li>
</ul><p>First, the tactic converts the target into a <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></code>, and finds out what type it
is an equality of. (It also fills up a list of <code>Expr</code>s with its atoms). Then, it
collects all the relevant hypotheses/proof terms from the context, and from those
selected by the user, taking into account whether <code>only</code> is true. (The list of atoms is
updated accordingly as well).</p><p>This information is used to create a list of args that get used in a call to
the appropriate python file that executes a grobner basis computation. The
output of this computation is a <code><a href="../.././Init/Prelude.html#String">String</a></code> representing the certificate. This
string is parsed into a list of <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></code> objects that are then converted into
<code>Expr</code>s (using the updated list of atoms).</p><p>the names of the hypotheses, along with the corresponding coefficients are
given to <code>linear_combination</code>. If that tactic succeeds, the user is prompted
to replace the call to <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> with the appropriate call to
<code>linear_combination</code>.</p><p>Returns <code>.error g</code> if this was a "dry run" attempt that does not actually invoke sage.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.polyrith" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.polyrith.byRing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L344-L349">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith.byRing"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">polyrith</span>.<span class="name">byRing</span></a></span><span class="decl_args">
<span class="fn">(g : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(msg : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Util/AtomM.html#Mathlib.Tactic.AtomM">Mathlib.Tactic.AtomM</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`tactic</span></span>)</span></span>)</span></span></div></div><p>Try to prove the goal by <code>ring</code> and fail with the given message otherwise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.polyrith.byRing" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.«tacticPolyrithOnly[_]»"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Tactic/Polyrith.lean#L379-L418">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.«tacticPolyrithOnly[_]»"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">«tacticPolyrithOnly[_]»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>Attempts to prove polynomial equality goals through polynomial arithmetic
on the hypotheses (and additional proof terms if the user specifies them).
It proves the goal by generating an appropriate call to the tactic
<code>linear_combination</code>. If this call succeeds, the call to <code>linear_combination</code>
is suggested to the user.</p><ul>
<li><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> will use all relevant hypotheses in the local context.</li>
<li><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a> [t1, t2, t3]</code> will add proof terms t1, t2, t3 to the local context.</li>
<li><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a> only [h1, h2, h3, t1, t2, t3]</code> will use only local hypotheses
<code>h1</code>, <code>h2</code>, <code>h3</code>, and proofs <code>t1</code>, <code>t2</code>, <code>t3</code>. It will ignore the rest of the local context.</li>
</ul><p>Notes:</p><ul>
<li>This tactic only works with a working internet connection, since it calls Sage
using the SageCell web API at <https://sagecell.sagemath.org/>.
Many thanks to the Sage team and organization for allowing this use.</li>
<li>This tactic assumes that the user has <code>python3</code> installed and available on the path.
(Test by opening a terminal and executing <code>python3 --version</code>.)
It also assumes that the <code>requests</code> library is installed: <code>python3 -m pip install requests</code>.</li>
</ul><p>Examples:</p><pre><code class="language-lean">example (x y : ℚ) (h1 : x*y + 2*x = 1) (h2 : x = y) :
  x*y = -2*y + 1 :=
by <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a>
-- Try this: linear_combination h1 - 2 * h2

example (x y z w : ℚ) (hzw : z = w) : x*z + 2*y*z = x*w + 2*y*w :=
by <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a>
-- Try this: linear_combination (2 * y + x) * hzw

constant scary : ∀ a b : ℚ, a + b = 0

example (a b c d : ℚ) (h : a + b = 0) (h2: b + c = 0) : a + b + c + d = 0 :=
by <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a> only [scary c d, h]
-- Try this: linear_combination scary c d + h
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.«tacticPolyrithOnly[_]»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>