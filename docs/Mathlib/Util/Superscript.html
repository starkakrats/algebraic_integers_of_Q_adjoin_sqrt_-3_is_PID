<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="stylesheet" href="../.././src/pygments.css"></link><link rel="shortcut icon" href="../.././favicon.ico"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Util.Superscript</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Mathlib.Util.Superscript";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Util</span>.<span class="name">Superscript</span></h2><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;
            <button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Std/Tactic/Lint.html">Std.Tactic.Lint</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Util.Superscript" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.instHashableChar"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">instHashableChar</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.Mapping"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">Mapping</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.instInhabitedMapping"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">instInhabitedMapping</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.mkMapping"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">mkMapping</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.Mapping.superscript"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">Mapping</span>.<span class="name">superscript</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.Mapping.subscript"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">Mapping</span>.<span class="name">subscript</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.satisfyTokensFn"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">satisfyTokensFn</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.satisfyTokensFn.loop"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">satisfyTokensFn</span>.<span class="name">loop</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.partitionPoint"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">partitionPoint</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.scriptFnNoAntiquot"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptFnNoAntiquot</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.scriptFnNoAntiquot.align"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptFnNoAntiquot</span>.<span class="name">align</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignSubstr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptFnNoAntiquot</span>.<span class="name">alignSubstr</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignInfo"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptFnNoAntiquot</span>.<span class="name">alignInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignSyntax"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptFnNoAntiquot</span>.<span class="name">alignSyntax</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.scriptParser"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptParser</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.scriptParser.parenthesizer"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptParser</span>.<span class="name">parenthesizer</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Superscript.scriptParser.formatter"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptParser</span>.<span class="name">formatter</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.superscript"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">superscript</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.superscript.parenthesizer"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">superscript</span>.<span class="name">parenthesizer</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.superscript.formatter"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">superscript</span>.<span class="name">formatter</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.subscript"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">subscript</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.subscript.parenthesizer"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">subscript</span>.<span class="name">parenthesizer</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.subscript.formatter"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">subscript</span>.<span class="name">formatter</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.registerAliasCore"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">registerAliasCore</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.registerAlias"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">registerAlias</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="A-parser-for-superscripts-and-subscripts">A parser for superscripts and subscripts <a class="hover-link" href="#A-parser-for-superscripts-and-subscripts">#</a></h1><p>This is intended for use in local notations. Basic usage is:</p><pre><code>local syntax:arg term:max superscript(term) : term
local macro_rules | `($a:term $b:superscript) =&gt; `($a ^ $b)
</code></pre><p>where <code>superscript(term)</code> indicates that it will parse a superscript, and the <code>$b:superscript</code>
antiquotation binds the <code>term</code> argument of the superscript. Given a notation like this,
the expression <code>2⁶⁴</code> parses and expands to <code>2 ^ 64</code>.</p><p>The superscript body is considered to be the longest contiguous sequence of superscript tokens and
whitespace, so no additional bracketing is required (unless you want to separate two superscripts).
However, note that Unicode has a rather restricted character set for superscripts and subscripts
(see <code><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping.superscript">Mapping.superscript</a></code> and <code><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping.subscript">Mapping.subscript</a></code> in this file), so you should not use this
parser for complex expressions.</p></div><div class="decl" id="Mathlib.Tactic.Superscript.instHashableChar"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L33-L33">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.instHashableChar"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">instHashableChar</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Init/Prelude.html#Char">Char</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.instHashableChar">Mathlib.Tactic.Superscript.instHashableChar</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">hash</span> := <span class="fn">fun (<span class="fn">c</span> : <a href="../.././Init/Prelude.html#Char">Char</a>) =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn"><span class="fn">c</span>.val</span></span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.Mapping"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L36-L41">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">Mapping</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A bidirectional character mapping.</p><ul class="structure_fields" id="Mathlib.Tactic.Superscript.Mapping.mk"><li id="Mathlib.Tactic.Superscript.Mapping.toNormal" class="structure_field"><div class="structure_field_info">toNormal : <span class="fn"><a href="../.././Lean/Data/HashMap.html#Lean.HashMap">Lean.HashMap</a> <a href="../.././Init/Prelude.html#Char">Char</a> <a href="../.././Init/Prelude.html#Char">Char</a></span></div><div class="structure_field_doc"><p>Map from "special" (e.g. superscript) characters to "normal" characters.</p></div></li><li id="Mathlib.Tactic.Superscript.Mapping.toSpecial" class="structure_field"><div class="structure_field_info">toSpecial : <span class="fn"><a href="../.././Lean/Data/HashMap.html#Lean.HashMap">Lean.HashMap</a> <a href="../.././Init/Prelude.html#Char">Char</a> <a href="../.././Init/Prelude.html#Char">Char</a></span></div><div class="structure_field_doc"><p>Map from "normal" text to "special" (e.g. superscript) characters.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Superscript.Mapping" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.instInhabitedMapping"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L41-L41">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.instInhabitedMapping"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">instInhabitedMapping</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping">Mathlib.Tactic.Superscript.Mapping</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.instInhabitedMapping">Mathlib.Tactic.Superscript.instInhabitedMapping</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">toNormal</span> := <span class="fn">default</span>, <span class="fn">toSpecial</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.mkMapping"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L44-L53">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.mkMapping"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">mkMapping</span></a></span><span class="decl_args">
<span class="fn">(s₁ : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(s₂ : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping">Mathlib.Tactic.Superscript.Mapping</a></div></div><p>Constructs a mapping (intended for compile time use). Panics on violated invariants.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.mkMapping" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.Mapping.superscript"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L56-L58">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping.superscript"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">Mapping</span>.<span class="name">superscript</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping">Mathlib.Tactic.Superscript.Mapping</a></div></div><p>A mapping from superscripts to and from regular text.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.Mapping.superscript" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.Mapping.subscript"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L61-L63">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping.subscript"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">Mapping</span>.<span class="name">subscript</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping">Mathlib.Tactic.Superscript.Mapping</a></div></div><p>A mapping from subscripts to and from regular text.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.Mapping.subscript" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.satisfyTokensFn"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L70-L90">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.satisfyTokensFn"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">satisfyTokensFn</span></a></span><span class="decl_args">
<span class="fn">(p : <span class="fn"><a href="../.././Init/Prelude.html#Char">Char</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(errorMsg : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(many : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></span></span>)</span></span> → <span class="fn"><a href="../.././Lean/Parser/Types.html#Lean.Parser.ParserState">Lean.Parser.ParserState</a> → <a href="../.././Lean/Parser/Types.html#Lean.Parser.ParserState">Lean.Parser.ParserState</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Parser/Types.html#Lean.Parser.ParserFn">Lean.Parser.ParserFn</a></div></div><p>Collects runs of text satisfying <code>p</code> followed by whitespace. Fails if the first character does
not satisfy <code>p</code>. If <code>many</code> is true, it will parse 1 or more many whitespace-separated runs,
otherwise it will parse only 1. If successful, it passes the result to <code>k</code> as an array <code>(a, b, c)</code>
where <code>a..b</code> is a token and <code>b..c</code> is whitespace.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.satisfyTokensFn" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.satisfyTokensFn.loop"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L81-L88">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.satisfyTokensFn.loop"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">satisfyTokensFn</span>.<span class="name">loop</span></a></span><span class="decl_args">
<span class="fn">(p : <span class="fn"><a href="../.././Init/Prelude.html#Char">Char</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></span></span>)</span></span> → <span class="fn"><a href="../.././Lean/Parser/Types.html#Lean.Parser.ParserState">Lean.Parser.ParserState</a> → <a href="../.././Lean/Parser/Types.html#Lean.Parser.ParserState">Lean.Parser.ParserState</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(c : <a href="../.././Lean/Parser/Types.html#Lean.Parser.ParserContext">Lean.Parser.ParserContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(toks : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></span></span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(s : <a href="../.././Lean/Parser/Types.html#Lean.Parser.ParserState">Lean.Parser.ParserState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Parser/Types.html#Lean.Parser.ParserState">Lean.Parser.ParserState</a></div></div><p>Loop body of <code><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.satisfyTokensFn">satisfyTokensFn</a></code></p></div></div><div class="decl" id="Mathlib.Tactic.Superscript.partitionPoint"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L95-L103">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.partitionPoint"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">partitionPoint</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(as : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(leftOfPartition : <span class="fn"><span class="fn">α</span> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(lo : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Nat">Nat</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(hi : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Nat">Nat</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Array.size">Array.size</a> <span class="fn">as</span></span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Nat">Nat</a></div></div><p>Given a predicate <code>leftOfPartition</code> which is true for indexes <code>&lt; i</code> and false for <code>≥ i</code>,
returns <code>i</code>, by binary search.</p></div></div><div class="decl" id="Mathlib.Tactic.Superscript.scriptFnNoAntiquot"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L115-L169">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptFnNoAntiquot"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptFnNoAntiquot</span></a></span><span class="decl_args">
<span class="fn">(m : <a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping">Mathlib.Tactic.Superscript.Mapping</a>)</span></span>
<span class="decl_args">
<span class="fn">(errorMsg : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/Parser/Types.html#Lean.Parser.ParserFn">Lean.Parser.ParserFn</a>)</span></span>
<span class="decl_args">
<span class="fn">(many : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Parser/Types.html#Lean.Parser.ParserFn">Lean.Parser.ParserFn</a></div></div><p>The core function for super/subscript parsing. It consists of three stages:</p><ol>
<li>Parse a run of superscripted characters, skipping whitespace and stopping when we hit a
non-superscript character.</li>
<li>Un-superscript the text and pass the body to the inner parser (usually <code>term</code>).</li>
<li>Take the resulting <code>Syntax</code> object and align all the positions to fit back into the original
text (which as a side effect also rewrites all the substrings to be in subscript text).</li>
</ol><p>If <code>many</code> is false, then whitespace (and comments) are not allowed inside the superscript.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.scriptFnNoAntiquot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.scriptFnNoAntiquot.align"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L139-L142">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptFnNoAntiquot.align"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptFnNoAntiquot</span>.<span class="name">align</span></a></span><span class="decl_args">
<span class="fn">(aligns : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(pos : <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></div></div><p>Applies the alignment mapping to a position.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.scriptFnNoAntiquot.align" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignSubstr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L147-L148">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignSubstr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptFnNoAntiquot</span>.<span class="name">alignSubstr</span></a></span><span class="decl_args">
<span class="fn">(input : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(aligns : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Substring">Substring</a> → <a href="../.././Init/Prelude.html#Substring">Substring</a></span></div></div><p>Applies the alignment mapping to a <code><a href="../.././Init/Prelude.html#Substring">Substring</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignSubstr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L150-L157">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignInfo"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptFnNoAntiquot</span>.<span class="name">alignInfo</span></a></span><span class="decl_args">
<span class="fn">(input : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(aligns : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Lean.SourceInfo">Lean.SourceInfo</a> → <a href="../.././Init/Prelude.html#Lean.SourceInfo">Lean.SourceInfo</a></span></div></div><p>Applies the alignment mapping to a <code>SourceInfo</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignSyntax"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L159-L167">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptFnNoAntiquot.alignSyntax"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptFnNoAntiquot</span>.<span class="name">alignSyntax</span></a></span><span class="decl_args">
<span class="fn">(input : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(aligns : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#String.Pos">String.Pos</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><p>Applies the alignment mapping to a <code>Syntax</code>.</p></div></div><div class="decl" id="Mathlib.Tactic.Superscript.scriptParser"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L181-L190">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptParser</span></a></span><span class="decl_args">
<span class="fn">(m : <a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping">Mathlib.Tactic.Superscript.Mapping</a>)</span></span>
<span class="decl_args">
<span class="fn">(antiquotName : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(errorMsg : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/Parser/Types.html#Lean.Parser.Parser">Lean.Parser.Parser</a>)</span></span>
<span class="decl_args">
<span class="fn">(many : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Meta.html#autoParam">autoParam</a> <a href="../.././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a> <a href="../.././Mathlib/Util/Superscript.html#_auto._@.Mathlib.Util.Superscript._hyg.1474">_auto✝</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Parser/Types.html#Lean.Parser.Parser">Lean.Parser.Parser</a></div></div><p>The super/subscript parser.</p><ul>
<li><code>m</code>: the character mapping</li>
<li><code>antiquotName</code>: the name to use for antiquotation bindings <code>$a:antiquotName</code>.
Note that the actual syntax kind bound will be the body kind (parsed by <code>p</code>), not <code>kind</code>.</li>
<li><code>errorMsg</code>: shown when the parser does not match</li>
<li><code>p</code>: the inner parser (usually <code>term</code>), to be called on the body of the superscript</li>
<li><code>many</code>: if false, whitespace is not allowed inside the superscript</li>
<li><code>kind</code>: the term will be wrapped in a node with this kind</li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.scriptParser" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.scriptParser.parenthesizer"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L193-L194">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser.parenthesizer"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptParser</span>.<span class="name">parenthesizer</span></a></span><span class="decl_args">
<span class="fn">(k : <a href="../.././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a>)</span></span>
<span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/PrettyPrinter/Parenthesizer.html#Lean.PrettyPrinter.Parenthesizer">Lean.PrettyPrinter.Parenthesizer</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/PrettyPrinter/Parenthesizer.html#Lean.PrettyPrinter.Parenthesizer">Lean.PrettyPrinter.Parenthesizer</a></div></div><p>Parenthesizer for the script parser.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser.parenthesizer">Mathlib.Tactic.Superscript.scriptParser.parenthesizer</a> <span class="fn">k</span> <span class="fn">p</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/PrettyPrinter/Parenthesizer.html#Lean.PrettyPrinter.Parenthesizer.node.parenthesizer">Lean.PrettyPrinter.Parenthesizer.node.parenthesizer</a> <span class="fn">k</span> <span class="fn">p</span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.scriptParser.parenthesizer" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Superscript.scriptParser.formatter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L197-L199">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser.formatter"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Superscript</span>.<span class="name">scriptParser</span>.<span class="name">formatter</span></a></span><span class="decl_args">
<span class="fn">(k : <a href="../.././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a>)</span></span>
<span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/PrettyPrinter/Formatter.html#Lean.PrettyPrinter.Formatter">Lean.PrettyPrinter.Formatter</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/PrettyPrinter/Formatter.html#Lean.PrettyPrinter.Formatter">Lean.PrettyPrinter.Formatter</a></div></div><p>Formatter for the script parser.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser.formatter">Mathlib.Tactic.Superscript.scriptParser.formatter</a> <span class="fn">k</span> <span class="fn">p</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/PrettyPrinter/Formatter.html#Lean.PrettyPrinter.Formatter.node.formatter">Lean.PrettyPrinter.Formatter.node.formatter</a> <span class="fn">k</span> <span class="fn">p</span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Superscript.scriptParser.formatter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.superscript"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L217-L218">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.superscript"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">superscript</span></a></span><span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/Parser/Types.html#Lean.Parser.Parser">Lean.Parser.Parser</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Parser/Types.html#Lean.Parser.Parser">Lean.Parser.Parser</a></div></div><p>The parser <code>superscript(term)</code> parses a superscript. Basic usage is:</p><pre><code>local syntax:arg term:max superscript(term) : term
local macro_rules | `($a:term $b:superscript) =&gt; `($a ^ $b)
</code></pre><p>Given a notation like this, the expression <code>2⁶⁴</code> parses and expands to <code>2 ^ 64</code>.</p><p>Note that because of Unicode limitations, not many characters can actually be typed inside the
superscript, so this should not be used for complex expressions. Legal superscript characters:</p><pre><code>⁰¹²³⁴⁵⁶⁷⁸⁹ᵃᵇᶜᵈᵉᶠᵍʰⁱʲᵏˡᵐⁿᵒᵖ𐞥ʳˢᵗᵘᵛʷˣʸᶻᴬᴮᴰᴱᴳᴴᴵᴶᴷᴸᴹᴺᴼᴾꟴᴿᵀᵁⱽᵂᵝᵞᵟᵋᶿᶥᶹᵠᵡ⁺⁻⁼⁽⁾
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.superscript">Mathlib.Tactic.superscript</a> <span class="fn">p</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser">Mathlib.Tactic.Superscript.scriptParser</a> <a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping.superscript">Mathlib.Tactic.Superscript.Mapping.superscript</a> <span class="fn">&quot;superscript&quot;</span>
    <span class="fn">&quot;expected superscript character&quot;</span> <span class="fn">p</span> <a href="../.././Init/Prelude.html#Bool.true">true</a></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.superscript" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.superscript.parenthesizer"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L221-L221">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.superscript.parenthesizer"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">superscript</span>.<span class="name">parenthesizer</span></a></span><span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/PrettyPrinter/Parenthesizer.html#Lean.PrettyPrinter.Parenthesizer">Lean.PrettyPrinter.Parenthesizer</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/PrettyPrinter/Parenthesizer.html#Lean.PrettyPrinter.Parenthesizer">Lean.PrettyPrinter.Parenthesizer</a></div></div><p>Formatter for the superscript parser.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.superscript.parenthesizer">Mathlib.Tactic.superscript.parenthesizer</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser.parenthesizer">Mathlib.Tactic.Superscript.scriptParser.parenthesizer</a> <span class="fn">`Mathlib.Tactic.superscript</span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.superscript.parenthesizer" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.superscript.formatter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L224-L224">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.superscript.formatter"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">superscript</span>.<span class="name">formatter</span></a></span><span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/PrettyPrinter/Formatter.html#Lean.PrettyPrinter.Formatter">Lean.PrettyPrinter.Formatter</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/PrettyPrinter/Formatter.html#Lean.PrettyPrinter.Formatter">Lean.PrettyPrinter.Formatter</a></div></div><p>Formatter for the superscript parser.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.superscript.formatter">Mathlib.Tactic.superscript.formatter</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser.formatter">Mathlib.Tactic.Superscript.scriptParser.formatter</a> <span class="fn">`Mathlib.Tactic.superscript</span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.superscript.formatter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.subscript"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L242-L243">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.subscript"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">subscript</span></a></span><span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/Parser/Types.html#Lean.Parser.Parser">Lean.Parser.Parser</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Parser/Types.html#Lean.Parser.Parser">Lean.Parser.Parser</a></div></div><p>The parser <code>subscript(term)</code> parses a subscript. Basic usage is:</p><pre><code>local syntax:arg term:max subscript(term) : term
local macro_rules | `($a:term $i:subscript) =&gt; `($a $i)
</code></pre><p>Given a notation like this, the expression <code>(a)ᵢ</code> parses and expands to <code>a i</code>. (Either parentheses
or a whitespace as in <code>a ᵢ</code> is required, because <code>aᵢ</code> is considered as an identifier.)</p><p>Note that because of Unicode limitations, not many characters can actually be typed inside the
subscript, so this should not be used for complex expressions. Legal subscript characters:</p><pre><code>₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᴀʙᴄᴅᴇꜰɢʜɪᴊᴋʟᴍɴᴏᴘꞯʀꜱᴛᴜᴠᴡʏᴢᵦᵧᵨᵩᵪ₊₋₌₍₎
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.subscript">Mathlib.Tactic.subscript</a> <span class="fn">p</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser">Mathlib.Tactic.Superscript.scriptParser</a> <a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.Mapping.subscript">Mathlib.Tactic.Superscript.Mapping.subscript</a> <span class="fn">&quot;subscript&quot;</span>
    <span class="fn">&quot;expected subscript character&quot;</span> <span class="fn">p</span> <a href="../.././Init/Prelude.html#Bool.true">true</a></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.subscript" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.subscript.parenthesizer"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L246-L246">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.subscript.parenthesizer"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">subscript</span>.<span class="name">parenthesizer</span></a></span><span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/PrettyPrinter/Parenthesizer.html#Lean.PrettyPrinter.Parenthesizer">Lean.PrettyPrinter.Parenthesizer</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/PrettyPrinter/Parenthesizer.html#Lean.PrettyPrinter.Parenthesizer">Lean.PrettyPrinter.Parenthesizer</a></div></div><p>Formatter for the subscript parser.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.subscript.parenthesizer">Mathlib.Tactic.subscript.parenthesizer</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser.parenthesizer">Mathlib.Tactic.Superscript.scriptParser.parenthesizer</a> <span class="fn">`Mathlib.Tactic.subscript</span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.subscript.parenthesizer" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.subscript.formatter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L249-L249">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.subscript.formatter"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">subscript</span>.<span class="name">formatter</span></a></span><span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/PrettyPrinter/Formatter.html#Lean.PrettyPrinter.Formatter">Lean.PrettyPrinter.Formatter</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/PrettyPrinter/Formatter.html#Lean.PrettyPrinter.Formatter">Lean.PrettyPrinter.Formatter</a></div></div><p>Formatter for the subscript parser.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.subscript.formatter">Mathlib.Tactic.subscript.formatter</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.Superscript.scriptParser.formatter">Mathlib.Tactic.Superscript.scriptParser.formatter</a> <span class="fn">`Mathlib.Tactic.subscript</span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.subscript.formatter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.registerAliasCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L254-L258">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.registerAliasCore"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">registerAliasCore</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(mapRef : <span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<span class="fn"><a href="../.././Lean/Parser/Extension.html#Lean.Parser.AliasTable">Lean.Parser.AliasTable</a> <span class="fn">α</span></span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(aliasName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(value : <span class="fn"><a href="../.././Lean/Parser/Extension.html#Lean.Parser.AliasValue">Lean.Parser.AliasValue</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.registerAliasCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.registerAlias"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/8c661e5492d1852ac9a417cfc675b6545d77c4b7/Mathlib/Util/Superscript.lean#L261-L266">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Superscript.html#Mathlib.Tactic.registerAlias"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">registerAlias</span></a></span><span class="decl_args">
<span class="fn">(aliasName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(declName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/Parser/Extension.html#Lean.Parser.ParserAliasValue">Lean.Parser.ParserAliasValue</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a></span>)</span> <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(info : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Parser/Extension.html#Lean.Parser.ParserAliasInfo">Lean.Parser.ParserAliasInfo</a>
  <span class="fn">{ <span class="fn">declName</span> := <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Lean.Name.anonymous</a>, <span class="fn">stackSz?</span> := <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">1</span></span>, <span class="fn">autoGroupArgs</span> := <span class="fn"><a href="../.././Init/Data/Option/Basic.html#Option.isSome">Option.isSome</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">1</span></span>)</span></span> }</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.registerAlias" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>