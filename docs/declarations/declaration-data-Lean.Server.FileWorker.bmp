{"name":"Lean.Server.FileWorker","instances":[],"imports":["Init","Init.System.IO","Lean.Data.RBMap","Lean.Environment","Lean.Data.Lsp","Lean.Data.Json.FromToJson","Lean.Util.FileSetupInfo","Lean.LoadDynlib","Lean.Server.Utils","Lean.Server.Snapshots","Lean.Server.AsyncList","Lean.Server.References","Lean.Server.FileWorker.Utils","Lean.Server.FileWorker.RequestHandling","Lean.Server.FileWorker.WidgetRequests","Lean.Server.FileWorker.SetupFile","Lean.Server.Rpc.Basic","Lean.Widget.InteractiveDiagnostic","Lean.Server.ImportCompletion"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L540-L553","name":"Lean.Server.FileWorker.workerMain","line":540,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.workerMain","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.workerMain\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">workerMain</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(opts : <a href=\"./Lean/Data/Options.html#Lean.Options\">Lean.Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L516-L537","name":"Lean.Server.FileWorker.initAndRunWorker","line":516,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.initAndRunWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.initAndRunWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">initAndRunWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(i : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(o : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(opts : <a href=\"./Lean/Data/Options.html#Lean.Options\">Lean.Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L478-L513","name":"Lean.Server.FileWorker.mainLoop","line":478,"kind":"opaque","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.mainLoop","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.mainLoop\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">mainLoop</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L430-L474","name":"Lean.Server.FileWorker.handleRequest","line":430,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L406-L428","name":"Lean.Server.FileWorker.handleImportCompletionRequest","line":406,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleImportCompletionRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleImportCompletionRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleImportCompletionRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CompletionParams\">Lean.Lsp.CompletionParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache\">Lean.Server.FileWorker.AvailableImportsCache</a></span>)</span></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L402-L404","name":"Lean.Server.FileWorker.queueRequest","line":402,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.queueRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.queueRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">queueRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(requestTask : <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span>)</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L392-L400","name":"Lean.Server.FileWorker.handleNotification","line":392,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleNotification","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L387-L390","name":"Lean.Server.FileWorker.parseParams","line":387,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.parseParams","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.parseParams\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">parseParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(paramType : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.FromJson\">Lean.FromJson</a> <span class=\"fn\">paramType</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <span class=\"fn\">paramType</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L378-L382","name":"Lean.Server.FileWorker.handleRpcConnect","line":378,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcConnect","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcConnect\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleRpcConnect</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.RpcConnectParams\">Lean.Lsp.RpcConnectParams</a> → <span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.RpcConnected\">Lean.Lsp.RpcConnected</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L367-L371","name":"Lean.Server.FileWorker.handleRpcKeepAlive","line":367,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcKeepAlive","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcKeepAlive\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleRpcKeepAlive</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.RpcKeepAliveParams\">Lean.Lsp.RpcKeepAliveParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L354-L365","name":"Lean.Server.FileWorker.handleRpcRelease","line":354,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcRelease","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcRelease\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleRpcRelease</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.RpcReleaseParams\">Lean.Lsp.RpcReleaseParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L351-L352","name":"Lean.Server.FileWorker.handleCancelRequest","line":351,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleCancelRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleCancelRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleCancelRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.CancelParams\">Lean.Lsp.CancelParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L342-L349","name":"Lean.Server.FileWorker.handleDidChange","line":342,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleDidChange","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleDidChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleDidChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.DidChangeTextDocumentParams\">Lean.Lsp.DidChangeTextDocumentParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L333-L335","name":"Lean.Server.FileWorker.updateDocument","line":333,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.updateDocument","doc":"Given the new document, updates editable doc state. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.updateDocument\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">updateDocument</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(newMeta : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L303-L330","name":"Lean.Server.FileWorker.startNewSnapshotTasks","line":303,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.startNewSnapshotTasks","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.startNewSnapshotTasks\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">startNewSnapshotTasks</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(newMeta : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a>\n  <span class=\"fn\">(<span class=\"fn\"><span class=\"fn\"><a href=\"./Lean/Server/AsyncList.html#IO.AsyncList\">IO.AsyncList</a> <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.ElabTaskError\">Lean.Server.FileWorker.ElabTaskError</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span> <a href=\"./Init/Prelude.html#Prod\">×</a>     <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.CancelToken\">Lean.Server.FileWorker.CancelToken</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L276-L301","name":"Lean.Server.FileWorker.determineValidSnapshots","line":276,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.determineValidSnapshots","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.determineValidSnapshots\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">determineValidSnapshots</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(oldDoc : <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.EditableDocument\">Lean.Server.FileWorker.EditableDocument</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(newMeta : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(newHeaderSnap : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L273-L274","name":"Lean.Server.FileWorker.updatePendingRequests","line":273,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.updatePendingRequests","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.updatePendingRequests\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">updatePendingRequests</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(map : <span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap\">Lean.Server.FileWorker.PendingRequestMap</a> → <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap\">Lean.Server.FileWorker.PendingRequestMap</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L245-L269","name":"Lean.Server.FileWorker.initializeWorker","line":245,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.initializeWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.initializeWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">initializeWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(meta : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(i : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(o : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(initParams : <a href=\"./Lean/Data/Lsp/InitShutdown.html#Lean.Lsp.InitializeParams\">Lean.Lsp.InitializeParams</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(opts : <a href=\"./Lean/Data/Options.html#Lean.Options\">Lean.Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L217-L243","name":"Lean.Server.FileWorker.compileHeader","line":217,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.compileHeader","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.compileHeader\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">compileHeader</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hOut : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(globalOptions : <a href=\"./Lean/Data/Options.html#Lean.Options\">Lean.Options</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hasWidgets : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Util/Path.html#Lean.SearchPath\">Lean.SearchPath</a></span>)</span></span>)</span></span></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L192-L215","name":"Lean.Server.FileWorker.buildCommandState","line":192,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.buildCommandState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.buildCommandState\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">buildCommandState</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(headerStx : <a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(headerEnv : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(headerMsgLog : <a href=\"./Lean/Message.html#Lean.MessageLog\">Lean.MessageLog</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(opts : <a href=\"./Lean/Data/Options.html#Lean.Options\">Lean.Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Elab/Command.html#Lean.Elab.Command.State\">Lean.Elab.Command.State</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L188-L190","name":"Lean.Server.FileWorker.buildHeaderEnv.mkErrorEnvironment","line":188,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.buildHeaderEnv.mkErrorEnvironment","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.buildHeaderEnv.mkErrorEnvironment\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">buildHeaderEnv</span>.<span class=\"name\">mkErrorEnvironment</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(errorMsg : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Message.html#Lean.MessageLog\">Lean.MessageLog</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L167-L190","name":"Lean.Server.FileWorker.buildHeaderEnv","line":167,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.buildHeaderEnv","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.buildHeaderEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">buildHeaderEnv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(headerStx : <a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(fileSetupResult : <a href=\"./Lean/Server/FileWorker/SetupFile.html#Lean.Server.FileWorker.FileSetupResult\">Lean.Server.FileWorker.FileSetupResult</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Message.html#Lean.MessageLog\">Lean.MessageLog</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L163-L163","name":"Lean.Server.FileWorker.WorkerM","line":163,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L161-L161","name":"Lean.Server.FileWorker.WorkerState.rpcSessions","line":161,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.rpcSessions","doc":"A map of RPC session IDs. We allow asynchronous elab tasks and request handlers\nto modify sessions. A single `Ref` ensures atomic transactions. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.rpcSessions\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">rpcSessions</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/RBMap.html#Lean.RBMap\">Lean.RBMap</a> <a href=\"./Init/Prelude.html#UInt64\">UInt64</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.RpcSession\">Lean.Server.FileWorker.RpcSession</a></span>)</span> <span class=\"fn\">compare</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L158-L158","name":"Lean.Server.FileWorker.WorkerState.pendingRequests","line":158,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.pendingRequests","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.pendingRequests\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">pendingRequests</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap\">Lean.Server.FileWorker.PendingRequestMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L157-L157","name":"Lean.Server.FileWorker.WorkerState.importCachingTask?","line":157,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.importCachingTask?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.importCachingTask?\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">importCachingTask?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache\">Lean.Server.FileWorker.AvailableImportsCache</a></span>)</span></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L156-L156","name":"Lean.Server.FileWorker.WorkerState.currHeaderStx","line":156,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.currHeaderStx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.currHeaderStx\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">currHeaderStx</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L153-L153","name":"Lean.Server.FileWorker.WorkerState.initHeaderStx","line":153,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.initHeaderStx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.initHeaderStx\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">initHeaderStx</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L151-L151","name":"Lean.Server.FileWorker.WorkerState.doc","line":151,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.doc","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.doc\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">doc</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.EditableDocument\">Lean.Server.FileWorker.EditableDocument</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L150-L150","name":"Lean.Server.FileWorker.WorkerState.mk","line":150,"kind":"ctor","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(doc : <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.EditableDocument\">Lean.Server.FileWorker.EditableDocument</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(initHeaderStx : <a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(currHeaderStx : <a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(importCachingTask? : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache\">Lean.Server.FileWorker.AvailableImportsCache</a></span>)</span></span>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pendingRequests : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap\">Lean.Server.FileWorker.PendingRequestMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(rpcSessions : <span class=\"fn\"><a href=\"./Lean/Data/RBMap.html#Lean.RBMap\">Lean.RBMap</a> <a href=\"./Init/Prelude.html#UInt64\">UInt64</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.RpcSession\">Lean.Server.FileWorker.RpcSession</a></span>)</span> <span class=\"fn\">compare</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L150-L161","name":"Lean.Server.FileWorker.WorkerState","line":150,"kind":"structure","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L148-L148","name":"Lean.Server.FileWorker.AvailableImportsCache.lastRequestTimestampMs","line":148,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache.lastRequestTimestampMs","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache.lastRequestTimestampMs\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AvailableImportsCache</span>.<span class=\"name\">lastRequestTimestampMs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache\">Lean.Server.FileWorker.AvailableImportsCache</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L147-L147","name":"Lean.Server.FileWorker.AvailableImportsCache.availableImports","line":147,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache.availableImports","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache.availableImports\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AvailableImportsCache</span>.<span class=\"name\">availableImports</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache\">Lean.Server.FileWorker.AvailableImportsCache</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/ImportCompletion.html#ImportCompletion.AvailableImports\">ImportCompletion.AvailableImports</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L146-L146","name":"Lean.Server.FileWorker.AvailableImportsCache.mk","line":146,"kind":"ctor","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AvailableImportsCache</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(availableImports : <a href=\"./Lean/Server/ImportCompletion.html#ImportCompletion.AvailableImports\">ImportCompletion.AvailableImports</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(lastRequestTimestampMs : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache\">Lean.Server.FileWorker.AvailableImportsCache</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L146-L148","name":"Lean.Server.FileWorker.AvailableImportsCache","line":146,"kind":"structure","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AvailableImportsCache\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AvailableImportsCache</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L144-L144","name":"Lean.Server.FileWorker.PendingRequestMap","line":144,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">PendingRequestMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L124-L140","name":"Lean.Server.FileWorker.unfoldCmdSnaps","line":124,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.unfoldCmdSnaps","doc":"Elaborates all commands after the last snap (at least the header snap is assumed to exist), emitting the diagnostics into `hOut`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.unfoldCmdSnaps\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">unfoldCmdSnaps</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(snaps : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(cancelTk : <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.CancelToken\">Lean.Server.FileWorker.CancelToken</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(startAfterMs : <a href=\"./Init/Prelude.html#UInt32\">UInt32</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#ReaderT\">ReaderT</a> <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a> <a href=\"./Init/System/IO.html#IO\">IO</a>\n  <span class=\"fn\">(<span class=\"fn\"><a href=\"./Lean/Server/AsyncList.html#IO.AsyncList\">IO.AsyncList</a> <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.ElabTaskError\">Lean.Server.FileWorker.ElabTaskError</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L73-L73","name":"Lean.Server.FileWorker.AsyncElabM","line":73,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabM\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AsyncElabM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L71-L71","name":"Lean.Server.FileWorker.AsyncElabState.snaps","line":71,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState.snaps","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState.snaps\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AsyncElabState</span>.<span class=\"name\">snaps</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState\">Lean.Server.FileWorker.AsyncElabState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L70-L70","name":"Lean.Server.FileWorker.AsyncElabState.mk","line":70,"kind":"ctor","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AsyncElabState</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(snaps : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState\">Lean.Server.FileWorker.AsyncElabState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L70-L71","name":"Lean.Server.FileWorker.AsyncElabState","line":70,"kind":"structure","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AsyncElabState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L65-L65","name":"Lean.Server.FileWorker.WorkerContext.clientHasWidgets","line":65,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.clientHasWidgets","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.clientHasWidgets\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">clientHasWidgets</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L64-L64","name":"Lean.Server.FileWorker.WorkerContext.initParams","line":64,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.initParams","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.initParams\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">initParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/InitShutdown.html#Lean.Lsp.InitializeParams\">Lean.Lsp.InitializeParams</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L63-L63","name":"Lean.Server.FileWorker.WorkerContext.headerTask","line":63,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.headerTask","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.headerTask\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">headerTask</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Util/Path.html#Lean.SearchPath\">Lean.SearchPath</a></span>)</span></span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L62-L62","name":"Lean.Server.FileWorker.WorkerContext.hLog","line":62,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hLog","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hLog\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">hLog</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L61-L61","name":"Lean.Server.FileWorker.WorkerContext.hOut","line":61,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hOut","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hOut\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">hOut</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L60-L60","name":"Lean.Server.FileWorker.WorkerContext.hIn","line":60,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hIn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hIn\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">hIn</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L59-L59","name":"Lean.Server.FileWorker.WorkerContext.mk","line":59,"kind":"ctor","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(hIn : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hOut : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hLog : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(headerTask : <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Util/Path.html#Lean.SearchPath\">Lean.SearchPath</a></span>)</span></span>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(initParams : <a href=\"./Lean/Data/Lsp/InitShutdown.html#Lean.Lsp.InitializeParams\">Lean.Lsp.InitializeParams</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(clientHasWidgets : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/b614ff1d12bc38f39077f9ce9f2d48b42c003ad0/src/Lean/Server/FileWorker.lean#L59-L65","name":"Lean.Server.FileWorker.WorkerContext","line":59,"kind":"structure","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"}]}